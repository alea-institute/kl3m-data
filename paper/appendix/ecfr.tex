\section{Electronic Code of Federal Regulations (eCFR)}
\label{appendix:ecfr}

This appendix provides details about the Electronic Code of Federal Regulations (eCFR) dataset, including its collection methodology, data statistics, and examples of the data. The eCFR is a web version of the Code of Federal Regulations (CFR) that is maintained by the U.S. Government Publishing Office (GPO) and updated daily to better reflect its current status.

\subsection{Dataset Overview}

The eCFR dataset contains the full text of all federal regulations organized into 50 titles, covering broad subject areas of federal regulation. The dataset provides a complete, up-to-date version of the U.S. Code of Federal Regulations, including all active regulations from federal agencies. This dataset is particularly valuable as it represents the official codification of the general and permanent rules published in the Federal Register by the executive departments and agencies of the Federal Government.

\subsection{Data Processing Statistics}

Based on the counts files in the KL3M project, the eCFR dataset has been processed through multiple stages:

\begin{table}[h]
\centering
\begin{tabular}{|l|r|}
\hline
\textbf{Processing Stage} & \textbf{Number of Documents} \\
\hline
Documents (Initial Collection) & 262,243 \\
Representations (Processed) & 262,243 \\
Parquet (Final Format) & 262,243 \\
\hline
\end{tabular}
\caption{eCFR Dataset Document Counts by Processing Stage}
\label{tab:ecfr_counts}
\end{table}

As shown in Table \ref{tab:ecfr_counts}, the eCFR dataset maintained perfect consistency across all processing stages, with 100\% of documents successfully preserved through the entire pipeline. This demonstrates the exceptional quality and robustness of both the source data and the processing methodology for this dataset.

\subsection{Collection Methodology}

The eCFR dataset was collected using the official eCFR API provided by the U.S. Government Publishing Office. The collection process involved the following steps:

\begin{enumerate}
  \item \textbf{Title Retrieval}: The system first retrieved metadata about all 50 CFR titles using the \verb|/api/versioner/v1/titles.json| endpoint.
  
  \item \textbf{Version Discovery}: For each title, the system obtained the latest available version date using the \verb|/api/versioner/v1/versions/title-{title}.json| endpoint.
  
  \item \textbf{Structure Mapping}: For each title as of its latest version date, the system retrieved the complete hierarchical structure using the \verb|/api/versioner/v1/structure/{date}/title-{title}.json| endpoint. This structure contains all levels of the regulatory hierarchy, including:
  \begin{itemize}
    \item Titles (e.g., Title 1: General Provisions)
    \item Chapters (e.g., Chapter I: Office of the Federal Register)
    \item Subchapters (when applicable)
    \item Parts (e.g., Part 1: Federal Register)
    \item Subparts (when applicable)
    \item Sections (e.g., ยง1.1 Definitions)
  \end{itemize}
  
  \item \textbf{Section Content Retrieval}: The system then traversed each title's structure to identify all section nodes, which represent the actual regulatory content. For each section, it retrieved the HTML content using the \verb|/api/renderer/v1/content/enhanced/{date}/title-{title}?section={section}| endpoint.
  
  \item \textbf{Document Creation}: For each section, a Document object was created with comprehensive metadata:
  \begin{itemize}
    \item Unique ID in the format \verb|{date}/{title}/{section}|
    \item Title from the section label
    \item Description combining the title, section, and date information
    \item HTML content of the regulation
    \item Publisher information (U.S. Government Publishing Office)
    \item Date of the regulation version
    \item Cryptographic hash (blake2b) for integrity verification
  \end{itemize}
  
  \item \textbf{Storage}: Each document was uploaded to the KL3M storage system.
\end{enumerate}

The collection process incorporates a rate-limiting mechanism (with a delay of 0.1 seconds between requests) to ensure compliance with the eCFR API's usage policies and to avoid overwhelming the government servers.

\subsection{Legal Status}

As noted in the source code, the eCFR dataset is "Not subject to copyright under 17 U.S.C. 105," which means that the content is in the public domain as it was created by the federal government. This makes the dataset freely available for research, analysis, and redistribution without copyright restrictions.

\subsection{Content Structure}

The eCFR content is structured hierarchically, following the official organization of the Code of Federal Regulations:

\begin{itemize}
  \item \textbf{Titles} (1-50): Broad subject areas (e.g., Title 10 - Energy, Title 26 - Internal Revenue)
  \item \textbf{Chapters}: Typically corresponding to the issuing agency
  \item \textbf{Subchapters}: Further divisions within chapters (when applicable)
  \item \textbf{Parts}: Major topical divisions within chapters or subchapters
  \item \textbf{Subparts}: Divisions within parts (when applicable)
  \item \textbf{Sections}: The basic unit of the CFR, containing the actual regulatory text
  \item \textbf{Appendices}: Supplementary material to parts or sections
\end{itemize}

This hierarchical structure is preserved in the KL3M dataset, allowing for comprehensive coverage and navigation of the entire federal regulatory framework.
